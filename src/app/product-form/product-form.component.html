<div class="container mt-4">
  <button mat-icon-button class="back-button" (click)="goBack()">
    <mat-icon>arrow_back</mat-icon>
  </button>
  <h2>{{ isEdit ? 'Edit' : 'Add' }} Product</h2>
  <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
    <div class="form-row full-width">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Name</mat-label>
        <input matInput type="text" formControlName="name">
        <mat-error *ngIf="productForm.get('name')?.hasError('required')">
          Name is required
        </mat-error>
        <mat-error *ngIf="productForm.get('name')?.hasError('minlength')">
          Name must be at least 3 characters long
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row full-width">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Price</mat-label>
        <input matInput type="number" formControlName="price" step="0.01">
        <mat-error *ngIf="productForm.get('price')?.hasError('required')">
          Price is required
        </mat-error>
        <mat-error *ngIf="productForm.get('price')?.hasError('min')">
          Price must be at least 0.01
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row full-width">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Description</mat-label>
        <textarea matInput formControlName="description"></textarea>
        <mat-error *ngIf="productForm.get('description')?.hasError('maxlength')">
          Description cannot be more than 500 characters
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row full-width">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Stock Quantity</mat-label>
        <input matInput type="number" formControlName="stockQuantity">
        <mat-error *ngIf="productForm.get('stockQuantity')?.hasError('required')">
          Stock Quantity is required
        </mat-error>
        <mat-error *ngIf="productForm.get('stockQuantity')?.hasError('min')">
          Stock Quantity must be at least 0
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row full-width">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>SKU</mat-label>
        <input matInput type="text" formControlName="sku">
        <mat-error *ngIf="productForm.get('sku')?.hasError('maxlength')">
          SKU cannot be more than 50 characters
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-checkbox formControlName="isActive">Active</mat-checkbox>
    </div>

    <div class="form-row">
      <button mat-raised-button color="primary" type="submit" [disabled]="productForm.invalid">
        {{ isEdit ? 'Update' : 'Add' }} Product
      </button>
    </div>
  </form>
</div>